<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="p12 文件 也叫做p12证书，本身就是一个加密的证书，后缀是.p12。 在创建CSR（Certificate Signing Request，证书签名请求）的时候，"><title>IOS Certification</title><link rel=canonical href=https://livenbom.github.io/p/ios-certification/><link rel=stylesheet href=/scss/style.min.b7ac4a7ed65d4ddf1262dddd483bd876eea90ce749056f8daf13e5f2b803dca3.css><meta property="og:title" content="IOS Certification"><meta property="og:description" content="p12 文件 也叫做p12证书，本身就是一个加密的证书，后缀是.p12。 在创建CSR（Certificate Signing Request，证书签名请求）的时候，"><meta property="og:url" content="https://livenbom.github.io/p/ios-certification/"><meta property="og:site_name" content="LivenBom's Blog"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2024-02-02T08:15:41+08:00"><meta property="article:modified_time" content="2024-02-02T08:15:41+08:00"><meta name=twitter:title content="IOS Certification"><meta name=twitter:description content="p12 文件 也叫做p12证书，本身就是一个加密的证书，后缀是.p12。 在创建CSR（Certificate Signing Request，证书签名请求）的时候，"><link rel="shortcut icon" href=/img/favicon.ico><script defer src=https://us.umami.is/script.js data-website-id=c6dbd280-e131-498e-9853-4130e53f5cc6></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-474Q86YVSN"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-474Q86YVSN",{anonymize_ip:!1})}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><a href=#p12-文件>p12 文件</a></li></ol></li><li><a href=#原理流程图>原理流程图：</a></li><li><a href=#appstore>AppStore</a><ol><li><a href=#证书和描述文件的过期或废除对应用的影响>证书和描述文件的过期或废除对应用的影响</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/ios-certification/>IOS Certification</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Feb 02, 2024</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 3 分钟</time></div></footer></div></header><section class=article-content><h3 id=p12-文件>p12 文件</h3><p>也叫做p12证书，本身就是一个加密的证书，后缀是.p12。</p><img src=https://gitee.com/zhanqianli/typora/raw/master/img/202402022255715.png alt=image-20240202225518601 style=zoom:33%><p>在创建CSR（Certificate Signing Request，证书签名请求）的时候，会<strong>同时创建一对私钥和公钥保存在Mac电脑上</strong>。
而CSR中包含<strong>公钥</strong>、您的标识信息（如您的组织名称、常用名、电子邮件地址）以及一个<strong>数字签名</strong>。这个数字签名是使用刚刚生成的<strong>私钥对上述信息的哈希值进行签名得到的</strong>。</p><img src=https://gitee.com/zhanqianli/typora/raw/master/img/202402022306660.png alt=iShot_2024-02-02_22.56.12 style=zoom:33%>
<img src=https://gitee.com/zhanqianli/typora/raw/master/img/202402022257549.png alt=image-20240202225724526 style=zoom:33%>
<img src=https://gitee.com/zhanqianli/typora/raw/master/img/202402022301646.png alt=image-20240202230122614 style=zoom:33%><p>登录apple developer 网站，点击新建证书，然后上传在Mac电脑创建的CSR文件，完成之后下载到本地，双击下载的development.cer证书安装，</p><p>最后就能<strong>在keychain中看到创建CSR时同时自动创建的私钥绑定了一个对应的Cer证书了</strong></p><p><img src=https://gitee.com/zhanqianli/typora/raw/master/img/202402030627671.png loading=lazy alt=image-20240203062728651></p><img src=https://gitee.com/zhanqianli/typora/raw/master/img/202402030628120.png alt=image-20240203062849097 style=zoom:33%><p><img src=https://gitee.com/zhanqianli/typora/raw/master/img/202402030625784.png loading=lazy alt=image-20240203062554699></p><p>关于CSR上传到Apple Developer CA之后的验证和生成：</p><ol><li>验证请求信息：CA首先验证CSR中提供的信息，确保它满足颁发证书的要求</li><li>使用私钥创建证书：验证通过之后，CA会使用其自己的私钥对您的公钥（及其他信息）进行签名，生成一个数字证书。</li></ol><p>生成的CER证书包含的信息：</p><ul><li>持有者的公钥：这是证书的核心部分，即您在CSR中提交的公钥</li><li>持有者的身份信息：包括您在CSR中提供的信息，如组织名、通用名等</li><li>颁发者的身份信息：Apple证书颁发机构的信息</li><li>有效期：证书的有效起始日期和过期日期</li><li>证书序列号：CA 分配的唯一序列号，用于证书的识别</li><li>数字签名：CA 对上述所有信息的签名，用于验证证书的真实性和完整性</li></ul><h2 id=原理流程图>原理流程图：</h2><p><img src=https://gitee.com/zhanqianli/typora/raw/master/img/202402040021412.png loading=lazy alt=image-20240204002100342></p><p>关键点：<strong>私钥对什么信息加密</strong>。</p><p>这个加密的信息就是我们要最终要验证的。</p><p>这里有两个私钥：</p><p>第一个是：保存在我们电脑端的私钥M（创建的时机是在创建CSR的时候就同时创建了）</p><ul><li>私钥M是给App加密，那么要验证App的完整性就是必须保证公钥，所以会将CSR文件上传到Apple CA中，用苹果的私钥签名</li></ul><p>第二个是：苹果服务器上的私钥A</p><ul><li></li></ul><h2 id=appstore>AppStore</h2><p>提交到AppStore的应用会被Apple重新签名，不再使用开发者的证书和描述文件。因此一旦应用通过审核并发布到AppStore上，它不再依赖于您最初用于签名的证书和描述文件。</p><h3 id=证书和描述文件的过期或废除对应用的影响>证书和描述文件的过期或废除对应用的影响</h3><ul><li>已发布的应用： 过期或废除证书或描述文件，不会有影响</li><li>更新应用：如果您的证书过期或被废除，影响的是您提交新应用或更新现有应用到AppStore的能力。需要确保有效的证书签名应用，才能提交新的版本</li><li>开发和测试：对应开发和测试阶段，如果描述文件或者开发者证书过期或废除，会直接影响到您在设备上的安装和打开。在这种情况下，您需要重新生成并下载新的证书和描述文件，然后在Xcode中更新这些设置</li></ul></section><footer class=article-footer></footer></article><footer class=site-footer></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>